@import play.api.libs.json.{ Json, JsObject }

@(params: Map[String, Any])

@errorList = @{
  params("errors") match {
    case errors: String => Json.parse(errors).as[List[JsObject]]
    case errors: Seq[_] => errors.asInstanceOf[Seq[Map[String, String]]].map(m => Json.toJson(m).as[JsObject])
    case _ => List()
  }
}

GloBE Information Return

Reference ID: @{params("referenceId")}

Pillar 2 ID: @{params("pillar2Id")}

This is to confirm that HM Revenue and Customs received your GloBE Information Return on @{params("submissionDate")} at @{params("submissionTime")} for the accounting period @{params("accountingPeriodStart")} to @{params("accountingPeriodEnd")}.

However, validation of this return has identified the errors listed below.

Please correct these errors and re-submit your return as soon as possible.

If you have any queries regarding these errors, please contact your software provider.

ERRORS IDENTIFIED:
@for(error <- errorList) {
Error Code: @{(error \ "errorCode").as[String]}
Description: @{(error \ "description").as[String]}
DocRefId in Error: @{(error \ "docRefIds").asOpt[String].getOrElse("")}
Count: @{(error \ "count").as[String]}
---
}

From the HMRC Pillar 2 team

@{uk.gov.hmrc.hmrcemailrenderer.templates.helpers.txt.template_footer()}


